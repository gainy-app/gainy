create table if not exists raw_data.eod_options
(
    code                     varchar not null,
    callopeninterest         numeric,
    callvolume               numeric,
    expirationdate           varchar not null,
    impliedvolatility        double precision,
    optionscount             numeric,
    putcallopeninterestratio double precision,
    putcallvolumeratio       double precision,
    putopeninterest          numeric,
    putvolume                numeric,
    constraint options_pkey
        primary key (code, expirationdate)
);

insert into raw_data.eod_options (code, callopeninterest, callvolume, expirationdate, impliedvolatility, optionscount, putcallopeninterestratio, putcallvolumeratio, putopeninterest, putvolume)
values  ('AAPL', 321797, 341722, '2021-10-01', 32.9849, 120, 0.4883451368409277, 0.5446269189575151, 157148, 186111),
        ('AAPL', 92173, 63466, '2021-10-08', 29.6176, 112, 0.8905644820066614, 0.9181924179875839, 82086, 58274),
        ('AAPL', 742222, 92107, '2021-10-15', 29.187, 114, 0.8230515937280221, 0.9030692564083077, 610887, 83179),
        ('AAPL', 155326, 13790, '2021-10-22', 28.7711, 80, 0.27061148809600455, 0.7430021754894851, 42033, 10246),
        ('AAPL', 50427, 25011, '2021-10-29', 30.6132, 78, 0.8133737878517461, 0.22993882691615689, 41016, 5751),
        ('AAPL', 7628, 3606, '2021-11-05', 34.5947, 80, 0.844257996853697, 0.9509151414309485, 6440, 3429),
        ('AAPL', 341467, 35769, '2021-11-19', 31.1883, 84, 0.6277707655498189, 0.7529984064413319, 214363, 26934),
        ('AAPL', 255782, 14548, '2021-12-17', 30.7004, 56, 0.6850130188989061, 0.5131289524333241, 175214, 7465),
        ('AAPL', 1251711, 29407, '2022-01-21', 25.9925, 292, 0.9984533170995541, 0.48825109667766176, 1249775, 14358),
        ('AAPL', 9283, 3415, '2022-02-18', 30.9046, 78, 1.4764623505332328, 1.2284040995607612, 13706, 4195),
        ('AAPL', 98229, 7328, '2022-03-18', 30.5508, 62, 1.2822893442873287, 1.238400655021834, 125958, 9075),
        ('AAPL', 19506, 2197, '2022-04-14', 31.5124, 82, 1.3270275812570491, 0.5739644970414202, 25885, 1261),
        ('AAPL', 508751, 9724, '2022-06-17', 40.895, 254, 0.6746876173216367, 0.7828054298642534, 343248, 7612),
        ('AAPL', 297526, 5824, '2022-09-16', 28.2482, 220, 0.5349246788515961, 1.3775755494505495, 159154, 8023),
        ('AAPL', 377184, 5483, '2023-01-20', 35.1712, 80, 0.9088110842453551, 0.5172350902790444, 342789, 2836),
        ('AAPL', 143244, 1261, '2023-03-17', 30.8702, 70, 0.4307196112926196, 0.6701030927835051, 61698, 845),
        ('AAPL', 177729, 1678, '2023-06-16', 31.1221, 78, 0.6630319193828806, 0.834326579261025, 117840, 1400),
        ('AAPL', 51469, 624, '2023-09-15', 30.7098, 64, 0.2529289475218092, 1.5496794871794872, 13018, 967),
        ('AAPL', 22758, 3913, '2024-01-19', 31.5696, 84, 0.5682836804640127, 0.3853820598006645, 12933, 1508)
        on conflict do nothing;