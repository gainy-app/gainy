[sqlfluff]
dialect = postgres
exclude_rules = L029

[sqlfluff:templater:dbt]
profiles_dir = profile

[sqlfluff:templater:jinja]
apply_dbt_builtins = True

[sqlfluff:templater:jinja:macros]
dbt_ref = {% macro ref(model_ref) %}{{model_ref}}{% endmacro %}
dbt_source = {% macro source(source_name, table) %}{{table}}{% endmacro %}
dbt_config = {% macro config() %}{% for k in kwargs %}{% endfor %}{% endmacro %}
dbt_var = {% macro var(variable, default='') %}item{% endmacro %}
dbt_is_incremental = {% macro is_incremental() %}True{% endmacro %}
pk = {% macro pk(columns) %}{% endmacro %}
index = {% macro index(this, column, unique) %}{% endmacro %}

[sqlfluff:indentation]
indented_joins = False
indented_ctes = False
indented_using_on = True
template_blocks_indent = False

[sqlfluff:rules:L016]
max_line_length = 120
