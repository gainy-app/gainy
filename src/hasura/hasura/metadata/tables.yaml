- table:
    name: invitations
    schema: app
  object_relationships:
    - name: from_profile
      using:
        foreign_key_constraint_on: from_profile_id
    - name: to_profile
      using:
        foreign_key_constraint_on: to_profile_id
  insert_permissions:
    - role: user
      permission:
        check:
          to_profile:
            user_id:
              _eq: X-Hasura-User-Id
        columns:
          - from_profile_id
          - to_profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - from_profile_id
          - to_profile_id
          - created_at
        filter:
          _or:
            - from_profile:
                user_id:
                  _eq: X-Hasura-User-Id
            - to_profile:
                user_id:
                  _eq: X-Hasura-User-Id
  event_triggers:
    - name: on_invitation_created_or_updated
      definition:
        delete:
          columns: '*'
        enable_manual: false
        insert:
          columns: '*'
        update:
          columns: '*'
      retry_conf:
        interval_sec: 10
        num_retries: 0
        timeout_sec: 60
      webhook: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraTrigger'
- table:
    name: invoices
    schema: app
- table:
    name: kyc_form
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  insert_permissions:
    - role: user
      permission:
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        columns:
          - address_city
          - address_country
          - address_postal_code
          - address_province
          - address_street1
          - address_street2
          - birthdate
          - citizenship
          - country
          - disclosures_drivewealth_customer_agreement
          - disclosures_drivewealth_data_sharing
          - disclosures_drivewealth_ira_agreement
          - disclosures_drivewealth_market_data_agreement
          - disclosures_drivewealth_privacy_policy
          - disclosures_drivewealth_terms_of_use
          - disclosures_extended_hours_agreement
          - disclosures_rule14b
          - disclosures_signed_by
          - email_address
          - employment_affiliated_with_a_broker
          - employment_company_name
          - employment_is_director_of_a_public_company
          - employment_position
          - employment_status
          - employment_type
          - first_name
          - gender
          - investor_profile_annual_income
          - investor_profile_experience
          - investor_profile_net_worth_liquid
          - investor_profile_net_worth_total
          - investor_profile_objectives
          - investor_profile_risk_tolerance
          - irs_backup_withholdings_notified
          - is_us_tax_payer
          - language
          - last_name
          - marital_status
          - phone_number
          - politically_exposed_names
          - profile_id
          - tax_id_type
          - tax_id_value
          - tax_treaty_with_us
  select_permissions:
    - role: user
      permission:
        columns:
          - address_city
          - address_country
          - address_postal_code
          - address_province
          - address_street1
          - address_street2
          - birthdate
          - citizenship
          - country
          - created_at
          - disclosures_drivewealth_customer_agreement
          - disclosures_drivewealth_data_sharing
          - disclosures_drivewealth_ira_agreement
          - disclosures_drivewealth_market_data_agreement
          - disclosures_drivewealth_privacy_policy
          - disclosures_drivewealth_terms_of_use
          - disclosures_extended_hours_agreement
          - disclosures_rule14b
          - disclosures_signed_by
          - email_address
          - employment_affiliated_with_a_broker
          - employment_company_name
          - employment_is_director_of_a_public_company
          - employment_position
          - employment_status
          - employment_type
          - first_name
          - gender
          - investor_profile_annual_income
          - investor_profile_experience
          - investor_profile_net_worth_liquid
          - investor_profile_net_worth_total
          - investor_profile_objectives
          - investor_profile_risk_tolerance
          - irs_backup_withholdings_notified
          - is_us_tax_payer
          - language
          - last_name
          - marital_status
          - phone_number
          - politically_exposed_names
          - profile_id
          - status
          - tax_id_type
          - tax_id_value
          - tax_treaty_with_us
          - updated_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - address_city
          - address_country
          - address_postal_code
          - address_province
          - address_street1
          - address_street2
          - birthdate
          - citizenship
          - country
          - disclosures_drivewealth_customer_agreement
          - disclosures_drivewealth_data_sharing
          - disclosures_drivewealth_ira_agreement
          - disclosures_drivewealth_market_data_agreement
          - disclosures_drivewealth_privacy_policy
          - disclosures_drivewealth_terms_of_use
          - disclosures_extended_hours_agreement
          - disclosures_rule14b
          - disclosures_signed_by
          - email_address
          - employment_affiliated_with_a_broker
          - employment_company_name
          - employment_is_director_of_a_public_company
          - employment_position
          - employment_status
          - employment_type
          - first_name
          - gender
          - investor_profile_annual_income
          - investor_profile_experience
          - investor_profile_net_worth_liquid
          - investor_profile_net_worth_total
          - investor_profile_objectives
          - investor_profile_risk_tolerance
          - irs_backup_withholdings_notified
          - is_us_tax_payer
          - language
          - last_name
          - marital_status
          - phone_number
          - politically_exposed_names
          - profile_id
          - tax_id_type
          - tax_id_value
          - tax_treaty_with_us
        filter:
          _and:
            - profile:
                user_id:
                  _eq: X-Hasura-User-Id
            - _or:
                - status:
                    _neq: APPROVED
                - status:
                    _is_null: true
        check: null
- table:
    name: notifications
    schema: app
- table:
    name: payment_methods
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - profile_id
          - name
          - set_active_at
          - created_at
          - updated_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - name
          - set_active_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        check: null
  delete_permissions:
    - role: user
      permission:
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: plaid_institutions
    schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - id
          - name
          - updated_at
        filter: {}
- table:
    name: portfolio_securities
    schema: app
  object_relationships:
    - name: tickers
      using:
        manual_configuration:
          column_mapping:
            ticker_symbol: symbol
          insertion_order: null
          remote_table:
            name: tickers
            schema: public
  array_relationships:
    - name: profile_holdings
      using:
        foreign_key_constraint_on:
          column: security_id
          table:
            name: profile_holdings
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - close_price
          - close_price_as_of
          - created_at
          - id
          - iso_currency_code
          - name
          - ref_id
          - ticker_symbol
          - type
          - updated_at
        filter: {}
- table:
    name: profile_categories
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  insert_permissions:
    - role: user
      permission:
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        columns:
          - category_id
          - profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - category_id
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - category_id
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        check: null
  delete_permissions:
    - role: user
      permission:
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  event_triggers:
    - name: recommendations__profile_categories
      definition:
        enable_manual: false
        insert:
          columns: '*'
      retry_conf:
        interval_sec: 30
        num_retries: 1
        timeout_sec: 150
      webhook: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraTrigger'
- table:
    name: profile_collection_match_score
    schema: app
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - category_level
          - category_similarity
          - collection_id
          - collection_uniq_id
          - interest_level
          - interest_similarity
          - match_score
          - profile_id
          - risk_level
          - risk_similarity
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_favorite_collections
    schema: app
  object_relationships:
    - name: collection
      using:
        manual_configuration:
          column_mapping:
            collection_id: id
          insertion_order: null
          remote_table:
            name: profile_collections
            schema: public
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  insert_permissions:
    - role: user
      permission:
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        columns:
          - collection_id
          - profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - collection_id
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        allow_aggregations: true
  update_permissions:
    - role: user
      permission:
        columns:
          - collection_id
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  delete_permissions:
    - role: user
      permission:
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_flags
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  insert_permissions:
    - role: user
      permission:
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        columns:
          - is_trading_enabled
          - profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - is_region_changing_allowed
          - is_trading_enabled
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - is_trading_enabled
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_holdings
    schema: app
  object_relationships:
    - name: access_token
      using:
        foreign_key_constraint_on: plaid_access_token_id
    - name: account
      using:
        foreign_key_constraint_on: account_id
    - name: holding_details
      using:
        manual_configuration:
          column_mapping:
            id: holding_id
          insertion_order: null
          remote_table:
            name: portfolio_holding_details
            schema: public
    - name: portfolio_holding_gains
      using:
        manual_configuration:
          column_mapping:
            id: holding_id
          insertion_order: null
          remote_table:
            name: portfolio_holding_gains
            schema: public
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
    - name: security
      using:
        foreign_key_constraint_on: security_id
  array_relationships:
    - name: holding_transactions
      using:
        manual_configuration:
          column_mapping:
            profile_id: profile_id
            security_id: security_id
          insertion_order: null
          remote_table:
            name: profile_portfolio_transactions
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - iso_currency_code
          - quantity
          - security_id
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_interests
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  insert_permissions:
    - role: user
      permission:
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        columns:
          - interest_id
          - profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - interest_id
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - interest_id
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        check: null
  delete_permissions:
    - role: user
      permission:
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  event_triggers:
    - name: recommendations__profile_interests
      definition:
        enable_manual: false
        insert:
          columns: '*'
      retry_conf:
        interval_sec: 30
        num_retries: 1
        timeout_sec: 150
      webhook: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraTrigger'
- table:
    name: profile_plaid_access_tokens
    schema: app
  object_relationships:
    - name: institution
      using:
        foreign_key_constraint_on: institution_id
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - id
          - institution_id
          - needs_reauth_since
          - profile_id
          - purpose
        filter:
          profile:
            _or:
              - user_id:
                  _eq: X-Hasura-User-Id
              - id:
                  _eq: 1
  delete_permissions:
    - role: user
      permission:
        filter:
          _and:
            - profile:
                user_id:
                  _eq: X-Hasura-User-Id
            - purpose:
                _eq: portfolio
  event_triggers:
    - name: on_plaid_access_token_created
      definition:
        enable_manual: false
        insert:
          columns: '*'
      retry_conf:
        interval_sec: 10
        num_retries: 0
        timeout_sec: 60
      webhook: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraTrigger'
- table:
    name: profile_portfolio_accounts
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  array_relationships:
    - name: profile_holdings
      using:
        foreign_key_constraint_on:
          column: account_id
          table:
            name: profile_holdings
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - ref_id
          - balance_available
          - balance_current
          - balance_iso_currency_code
          - balance_limit
          - mask
          - name
          - official_name
          - subtype
          - type
          - profile_id
          - created_at
          - updated_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_portfolio_transactions
    schema: app
  object_relationships:
    - name: account
      using:
        foreign_key_constraint_on: account_id
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
    - name: security
      using:
        foreign_key_constraint_on: security_id
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - amount
          - date
          - fees
          - iso_currency_code
          - name
          - price
          - quantity
          - subtype
          - type
          - ref_id
          - security_id
          - profile_id
          - account_id
          - created_at
          - updated_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_scoring_settings
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  insert_permissions:
    - role: user
      permission:
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        columns:
          - average_market_return
          - damage_of_failure
          - if_market_drops_20_i_will_buy
          - if_market_drops_40_i_will_buy
          - investment_horizon
          - profile_id
          - risk_level
          - stock_market_risk_level
          - trading_experience
          - unexpected_purchases_source
  select_permissions:
    - role: user
      permission:
        columns:
          - stock_market_risk_level
          - trading_experience
          - unexpected_purchases_source
          - average_market_return
          - profile_id
          - damage_of_failure
          - if_market_drops_20_i_will_buy
          - if_market_drops_40_i_will_buy
          - investment_horizon
          - risk_level
          - created_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - average_market_return
          - damage_of_failure
          - if_market_drops_20_i_will_buy
          - if_market_drops_40_i_will_buy
          - investment_horizon
          - risk_level
          - stock_market_risk_level
          - trading_experience
          - unexpected_purchases_source
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        check: null
  event_triggers:
    - name: set_user_categories
      definition:
        enable_manual: false
        insert:
          columns: '*'
        update:
          columns:
            - stock_market_risk_level
            - trading_experience
            - unexpected_purchases_source
            - average_market_return
            - profile_id
            - damage_of_failure
            - if_market_drops_20_i_will_buy
            - if_market_drops_40_i_will_buy
            - investment_horizon
            - risk_level
            - created_at
      retry_conf:
        interval_sec: 10
        num_retries: 1
        timeout_sec: 60
      webhook: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraTrigger'
- table:
    name: profile_ticker_match_score
    schema: app
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - category_matches
          - fits_categories
          - fits_interests
          - fits_risk
          - interest_matches
          - match_score
          - risk_similarity
          - symbol
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_ticker_metrics_settings
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  insert_permissions:
    - role: user
      permission:
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        columns:
          - collection_id
          - field_name
          - order
          - profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - collection_id
          - created_at
          - field_name
          - id
          - order
          - profile_id
          - updated_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - collection_id
          - field_name
          - order
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        check: null
  delete_permissions:
    - role: user
      permission:
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_watchlist_tickers
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  insert_permissions:
    - role: user
      permission:
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        columns:
          - profile_id
          - symbol
  select_permissions:
    - role: user
      permission:
        columns:
          - symbol
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - symbol
          - profile_id
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
        check:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
  delete_permissions:
    - role: user
      permission:
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profiles
    schema: app
  object_relationships:
    - name: flags
      using:
        manual_configuration:
          column_mapping:
            id: profile_id
          insertion_order: null
          remote_table:
            name: profile_flags
            schema: public
    - name: portfolio_gains
      using:
        manual_configuration:
          column_mapping:
            id: profile_id
          insertion_order: null
          remote_table:
            name: portfolio_gains
            schema: public
    - name: profile_scoring_setting
      using:
        foreign_key_constraint_on:
          column: profile_id
          table:
            name: profile_scoring_settings
            schema: app
  array_relationships:
    - name: profile_categories
      using:
        foreign_key_constraint_on:
          column: profile_id
          table:
            name: profile_categories
            schema: app
    - name: profile_favorite_collections
      using:
        foreign_key_constraint_on:
          column: profile_id
          table:
            name: profile_favorite_collections
            schema: app
    - name: profile_holdings
      using:
        foreign_key_constraint_on:
          column: profile_id
          table:
            name: profile_holdings
            schema: app
    - name: profile_interests
      using:
        foreign_key_constraint_on:
          column: profile_id
          table:
            name: profile_interests
            schema: app
    - name: profile_plaid_access_tokens
      using:
        foreign_key_constraint_on:
          column: profile_id
          table:
            name: profile_plaid_access_tokens
            schema: app
    - name: profile_watchlist_tickers
      using:
        foreign_key_constraint_on:
          column: profile_id
          table:
            name: profile_watchlist_tickers
            schema: app
  insert_permissions:
    - role: user
      permission:
        check:
          user_id:
            _eq: X-Hasura-User-Id
        columns:
          - avatar_url
          - email
          - first_name
          - gender
          - last_name
          - legal_address
          - user_id
  select_permissions:
    - role: user
      permission:
        columns:
          - avatar_url
          - created_at
          - email
          - first_name
          - gender
          - id
          - last_name
          - legal_address
          - subscription_end_date
          - user_id
        filter:
          user_id:
            _eq: X-Hasura-User-Id
  update_permissions:
    - role: user
      permission:
        columns:
          - avatar_url
          - email
          - first_name
          - gender
          - last_name
          - legal_address
        filter:
          user_id:
            _eq: X-Hasura-User-Id
        check:
          user_id:
            _eq: X-Hasura-User-Id
  delete_permissions:
    - role: user
      permission:
        filter:
          user_id:
            _eq: X-Hasura-User-Id
  event_triggers:
    - name: on_user_created
      definition:
        enable_manual: false
        insert:
          columns: '*'
      retry_conf:
        interval_sec: 10
        num_retries: 0
        timeout_sec: 60
      webhook: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraTrigger'
- table:
    name: stripe_payment_methods
    schema: app
  event_triggers:
    - name: stripe_payment_method_deleted
      definition:
        delete:
          columns: '*'
        enable_manual: false
      retry_conf:
        interval_sec: 10
        num_retries: 0
        timeout_sec: 60
      webhook: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraTrigger'
- table:
    name: trading_accounts
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - account_no
          - cash_available_for_trade
          - cash_available_for_withdrawal
          - cash_balance
          - created_at
          - equity_value
          - id
          - name
          - profile_id
          - updated_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: trading_collection_versions
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
    - name: trading_account
      using:
        foreign_key_constraint_on: trading_account_id
  array_relationships:
    - name: history
      using:
        manual_configuration:
          column_mapping:
            id: trading_collection_version_id
          insertion_order: null
          remote_table:
            name: trading_history
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - collection_id
          - created_at
          - executed_at
          - fail_reason
          - id
          - profile_id
          - status
          - target_amount_delta
          - trading_account_id
          - updated_at
          - weights
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: trading_funding_accounts
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - profile_id
          - plaid_access_token_id
          - plaid_account_id
          - name
          - balance
          - created_at
          - updated_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: trading_money_flow
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
    - name: trading_account
      using:
        foreign_key_constraint_on: trading_account_id
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - profile_id
          - trading_account_id
          - funding_account_id
          - status
          - amount
          - created_at
          - updated_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: trading_orders
    schema: app
  object_relationships:
    - name: history
      using:
        manual_configuration:
          column_mapping:
            id: trading_order_id
          insertion_order: null
          remote_table:
            name: trading_history
            schema: public
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
    - name: trading_account
      using:
        foreign_key_constraint_on: trading_account_id
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - profile_id
          - symbol
          - status
          - target_amount_delta
          - trading_account_id
          - source
          - fail_reason
          - pending_execution_since
          - executed_at
          - created_at
          - updated_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: trading_statements
    schema: app
  object_relationships:
    - name: profile
      using:
        foreign_key_constraint_on: profile_id
  select_permissions:
    - role: user
      permission:
        columns:
          - id
          - profile_id
          - type
          - display_name
          - created_at
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: analyst_ratings
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - rating
          - target_price
          - buy
          - hold
          - sell
          - strong_buy
          - strong_sell
          - symbol
        filter: {}
    - role: user
      permission:
        columns:
          - symbol
          - buy
          - hold
          - sell
          - rating
          - strong_buy
          - strong_sell
          - target_price
        filter: {}
- table:
    name: categories
    schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - icon_url
          - id
          - name
          - collection_id
        filter: {}
- table:
    name: chart
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - period
          - symbol
          - adjusted_close
          - close
          - high
          - low
          - open
          - volume
          - datetime
        filter: {}
    - role: user
      permission:
        columns:
          - symbol
          - datetime
          - period
          - open
          - high
          - low
          - close
          - adjusted_close
          - volume
        filter: {}
- table:
    name: collection_chart
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - adjusted_close
          - close
          - collection_id
          - collection_uniq_id
          - datetime
          - high
          - low
          - open
          - period
          - profile_id
        filter:
          _or:
            - profile_id:
                _is_null: true
            - profile:
                user_id:
                  _eq: X-Hasura-User-Id
- table:
    name: collection_match_score
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - category_level
          - category_similarity
          - collection_id
          - collection_uniq_id
          - interest_level
          - interest_similarity
          - match_score
          - profile_id
          - risk_level
          - risk_similarity
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: collection_match_score_explanation
    schema: public
  object_relationships:
    - name: category
      using:
        manual_configuration:
          column_mapping:
            category_id: id
          insertion_order: null
          remote_table:
            name: categories
            schema: public
    - name: interest
      using:
        manual_configuration:
          column_mapping:
            interest_id: id
          insertion_order: null
          remote_table:
            name: interests
            schema: public
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - profile_id
          - collection_id
          - category_id
          - interest_id
          - collection_uniq_id
        filter:
          user_id:
            _eq: X-Hasura-User-Id
- table:
    name: collection_metrics
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - absolute_daily_change
          - actual_price
          - collection_uniq_id
          - market_capitalization_sum
          - previous_day_close_price
          - profile_id
          - relative_daily_change
          - updated_at
        filter:
          _or:
            - user_id:
                _is_null: true
            - user_id:
                _eq: X-Hasura-User-Id
- table:
    name: collection_piechart
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - absolute_daily_change
          - absolute_value
          - collection_id
          - collection_uniq_id
          - entity_id
          - entity_name
          - entity_type
          - profile_id
          - relative_daily_change
          - weight
        filter:
          _or:
            - user_id:
                _is_null: true
            - user_id:
                _eq: X-Hasura-User-Id
- table:
    name: collection_ticker_actual_weights
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - profile_id
          - collection_id
          - collection_uniq_id
          - symbol
          - date
          - weight
          - id
          - updated_at
        filter:
          _or:
            - profile_id:
                _is_null: true
            - profile:
                user_id:
                  _eq: X-Hasura-User-Id
- table:
    name: countries
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - alpha2
          - alpha3
          - flag_w40_url
          - name
        filter: {}
    - role: user
      permission:
        columns:
          - alpha2
          - alpha3
          - flag_w40_url
          - name
        filter: {}
- table:
    name: crypto_metrics
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - asset_platform_id
          - country_origin
          - hashing_algorithm
          - image_large
          - image_small
          - image_thumb
          - symbol
          - ico_end_date
          - ico_start_date
          - coingecko_score
          - community_reddit_average_comments_48h
          - community_reddit_average_posts_48h
          - community_score
          - development_score
          - liquidity_score
          - market_fdv_to_tvl_ratio
          - market_mcap_to_tvl_ratio
          - market_total_value_locked
          - price_change_1m
          - price_change_1w
          - price_change_1y
          - price_change_3m
          - price_change_5y
          - price_change_all
          - public_interest_score
          - sentiment_votes_down_percentage
          - sentiment_votes_up_percentage
          - alexa_rank
          - bing_matches
          - coingecko_rank
          - community_facebook_likes
          - community_reddit_accounts_active_48h
          - community_reddit_subscribers
          - community_telegram_channel_user_count
          - community_twitter_followers
          - development_closed_issues
          - development_code_additions_deletions_4_weeks_additions
          - development_code_additions_deletions_4_weeks_deletions
          - development_commit_count_4_weeks
          - development_forks
          - development_pull_request_contributors
          - development_pull_requests_merged
          - development_stars
          - development_subscribers
          - development_total_issues
          - market_cap_rank
          - categories
          - links
        filter: {}
    - role: user
      permission:
        columns:
          - symbol
          - country_origin
          - categories
          - asset_platform_id
          - hashing_algorithm
          - links
          - market_cap_rank
          - coingecko_rank
          - coingecko_score
          - public_interest_score
          - alexa_rank
          - bing_matches
          - liquidity_score
          - sentiment_votes_up_percentage
          - sentiment_votes_down_percentage
          - ico_start_date
          - ico_end_date
          - image_large
          - image_small
          - image_thumb
          - community_score
          - community_facebook_likes
          - community_twitter_followers
          - community_reddit_subscribers
          - community_reddit_average_posts_48h
          - community_reddit_accounts_active_48h
          - community_reddit_average_comments_48h
          - community_telegram_channel_user_count
          - development_score
          - development_forks
          - development_stars
          - development_subscribers
          - development_total_issues
          - development_closed_issues
          - development_commit_count_4_weeks
          - development_pull_requests_merged
          - development_pull_request_contributors
          - development_code_additions_deletions_4_weeks_additions
          - development_code_additions_deletions_4_weeks_deletions
          - market_mcap_to_tvl_ratio
          - market_fdv_to_tvl_ratio
          - market_total_value_locked
          - price_change_1w
          - price_change_1m
          - price_change_3m
          - price_change_1y
          - price_change_5y
          - price_change_all
        filter: {}
- table:
    name: crypto_realtime_metrics
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - symbol
          - ath
          - atl
          - circulating_supply
          - high_24h
          - low_24h
          - market_capitalization
          - max_supply
          - total_supply
          - volume_24h
        filter: {}
    - role: user
      permission:
        columns:
          - symbol
          - ath
          - atl
          - market_capitalization
          - circulating_supply
          - max_supply
          - total_supply
          - volume_24h
          - high_24h
          - low_24h
        filter: {}
- table:
    name: etf_metrics
    schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - symbol
          - volatility_1y
          - volatility_3y
          - dividend_frequency
          - net_expense_ratio
          - total_assets
          - annualized_return_5y
          - min_annual_return
          - max_annual_return
        filter: {}
- table:
    name: gainy_industries
    schema: public
  array_relationships:
    - name: ticker_industries
      using:
        manual_configuration:
          column_mapping:
            id: industry_id
          insertion_order: null
          remote_table:
            name: ticker_industries
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - id
          - name
          - collection_id
        filter: {}
    - role: user
      permission:
        columns:
          - id
          - name
          - collection_id
        filter: {}
- table:
    name: historical_prices_aggregated
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - adjusted_close
          - close
          - datetime
          - high
          - low
          - open
          - period
          - symbol
          - volume
        filter: {}
    - role: user
      permission:
        columns:
          - adjusted_close
          - close
          - high
          - low
          - open
          - period
          - symbol
          - datetime
          - volume
        filter: {}
- table:
    name: interests
    schema: public
  array_relationships:
    - name: ticker_interests
      using:
        manual_configuration:
          column_mapping:
            id: interest_id
          insertion_order: null
          remote_table:
            name: ticker_interests
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - enabled
          - icon_url
          - id
          - name
          - sort_order
        filter: {}
    - role: user
      permission:
        columns:
          - id
          - name
          - icon_url
          - enabled
          - sort_order
        filter: {}
- table:
    name: portfolio_brokers
    schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - name
          - uniq_id
        filter: {}
- table:
    name: portfolio_gains
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - absolute_gain_1d
          - absolute_gain_1m
          - absolute_gain_1w
          - absolute_gain_1y
          - absolute_gain_3m
          - absolute_gain_5y
          - absolute_gain_total
          - actual_value
          - profile_id
          - relative_gain_1d
          - relative_gain_1m
          - relative_gain_1w
          - relative_gain_1y
          - relative_gain_3m
          - relative_gain_5y
          - relative_gain_total
          - updated_at
        filter:
          profile:
            _or:
              - user_id:
                  _eq: X-Hasura-User-Id
              - id:
                  _eq: 1
- table:
    name: portfolio_holding_details
    schema: public
  object_relationships:
    - name: holding
      using:
        manual_configuration:
          column_mapping:
            holding_id_v2: holding_id_v2
          insertion_order: null
          remote_table:
            name: profile_holdings_normalized
            schema: public
    - name: ticker
      using:
        manual_configuration:
          column_mapping:
            ticker_symbol: symbol
          insertion_order: null
          remote_table:
            name: tickers
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - holding_id
          - ticker_symbol
          - account_id
          - purchase_date
          - relative_gain_total
          - relative_gain_1d
          - value_to_portfolio_value
          - ticker_name
          - market_capitalization
          - next_earnings_date
          - security_type
          - ltt_quantity_total
          - name
          - quantity
          - avg_cost
        filter:
          holding:
            profile:
              _or:
                - user_id:
                    _eq: X-Hasura-User-Id
                - id:
                    _eq: 1
- table:
    name: portfolio_holding_gains
    schema: public
  object_relationships:
    - name: holding
      using:
        manual_configuration:
          column_mapping:
            holding_id_v2: holding_id_v2
          insertion_order: null
          remote_table:
            name: profile_holdings_normalized
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - absolute_gain_1d
          - absolute_gain_1m
          - absolute_gain_1w
          - absolute_gain_1y
          - absolute_gain_3m
          - absolute_gain_5y
          - absolute_gain_total
          - actual_value
          - holding_id
          - ltt_quantity_total
          - relative_gain_1d
          - relative_gain_1m
          - relative_gain_1w
          - relative_gain_1y
          - relative_gain_3m
          - relative_gain_5y
          - relative_gain_total
          - updated_at
          - value_to_portfolio_value
        filter:
          holding:
            profile:
              _or:
                - user_id:
                    _eq: X-Hasura-User-Id
                - id:
                    _eq: 1
- table:
    name: portfolio_holding_group_details
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - collection_id
          - ltt_quantity_total
          - market_capitalization
          - name
          - next_earnings_date
          - profile_id
          - purchase_date
          - relative_gain_1d
          - relative_gain_total
          - ticker_name
          - ticker_symbol
          - value_to_portfolio_value
        filter:
          profile:
            _or:
              - user_id:
                  _eq: X-Hasura-User-Id
              - id:
                  _eq: 1
- table:
    name: portfolio_holding_group_gains
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - absolute_gain_1d
          - absolute_gain_1m
          - absolute_gain_1w
          - absolute_gain_1y
          - absolute_gain_3m
          - absolute_gain_5y
          - absolute_gain_total
          - actual_value
          - ltt_quantity_total
          - profile_id
          - relative_gain_1d
          - relative_gain_1m
          - relative_gain_1w
          - relative_gain_1y
          - relative_gain_3m
          - relative_gain_5y
          - relative_gain_total
          - ticker_symbol
          - updated_at
          - value_to_portfolio_value
        filter:
          profile:
            _or:
              - user_id:
                  _eq: X-Hasura-User-Id
              - id:
                  _eq: 1
- table:
    name: portfolio_holding_group_tags
    schema: public
  object_relationships:
    - name: category
      using:
        manual_configuration:
          column_mapping:
            category_id: id
          insertion_order: null
          remote_table:
            name: categories
            schema: public
    - name: collection
      using:
        manual_configuration:
          column_mapping:
            collection_uniq_id: uniq_id
          insertion_order: null
          remote_table:
            name: profile_collections
            schema: public
    - name: interest
      using:
        manual_configuration:
          column_mapping:
            interest_id: id
          insertion_order: null
          remote_table:
            name: interests
            schema: public
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - category_id
          - collection_id
          - collection_uniq_id
          - interest_id
          - priority
          - profile_id
          - symbol
        filter:
          profile:
            _or:
              - user_id:
                  _eq: X-Hasura-User-Id
              - id:
                  _eq: 1
- table:
    name: profile_collection_tickers_performance_ranked
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
    - name: ticker
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: tickers
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - profile_id
          - symbol
          - relative_daily_change
          - updated_at
          - gainer_rank
          - loser_rank
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_collections
    schema: public
  configuration:
    column_config: {}
    custom_column_names: {}
    custom_name: collections
    custom_root_fields: {}
  object_relationships:
    - name: match_score
      using:
        manual_configuration:
          column_mapping:
            uniq_id: collection_uniq_id
          insertion_order: null
          remote_table:
            name: collection_match_score
            schema: public
    - name: metrics
      using:
        manual_configuration:
          column_mapping:
            uniq_id: collection_uniq_id
          insertion_order: null
          remote_table:
            name: collection_metrics
            schema: public
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  array_relationships:
    - name: match_score_explanation
      using:
        manual_configuration:
          column_mapping:
            uniq_id: collection_uniq_id
          insertion_order: null
          remote_table:
            name: collection_match_score_explanation
            schema: public
    - name: ticker_collections
      using:
        manual_configuration:
          column_mapping:
            uniq_id: collection_uniq_id
          insertion_order: null
          remote_table:
            name: profile_ticker_collections
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - description
          - id
          - image_url
          - influencer_name
          - name
          - profile_id
          - size
        filter:
          _and:
            - profile_id:
                _is_null: true
            - personalized:
                _eq: "0"
            - enabled:
                _eq: "1"
    - role: user
      permission:
        columns:
          - description
          - enabled
          - id
          - image_url
          - influencer_name
          - name
          - size
          - uniq_id
        filter:
          _or:
            - profile:
                user_id:
                  _eq: X-Hasura-User-Id
            - profile_id:
                _is_null: true
        allow_aggregations: true
- table:
    name: profile_flags
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - profile_id
          - is_personalization_enabled
          - is_region_changing_allowed
          - is_trading_enabled
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: profile_holding_groups
    schema: public
  object_relationships:
    - name: details
      using:
        manual_configuration:
          column_mapping:
            id: holding_group_id
          insertion_order: null
          remote_table:
            name: portfolio_holding_group_details
            schema: public
    - name: gains
      using:
        manual_configuration:
          column_mapping:
            id: holding_group_id
          insertion_order: null
          remote_table:
            name: portfolio_holding_group_gains
            schema: public
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
    - name: ticker
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: tickers
            schema: public
  array_relationships:
    - name: holdings
      using:
        manual_configuration:
          column_mapping:
            id: holding_group_id
          insertion_order: null
          remote_table:
            name: profile_holdings_normalized
            schema: public
    - name: tags
      using:
        manual_configuration:
          column_mapping:
            id: holding_group_id
          insertion_order: null
          remote_table:
            name: portfolio_holding_group_tags
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - collection_id
          - profile_id
          - quantity
          - symbol
        filter:
          profile:
            _or:
              - user_id:
                  _eq: X-Hasura-User-Id
              - id:
                  _eq: 1
- table:
    name: profile_holdings_normalized
    schema: public
  object_relationships:
    - name: access_token
      using:
        foreign_key_constraint_on: plaid_access_token_id
    - name: broker
      using:
        manual_configuration:
          column_mapping:
            broker_uniq_id: uniq_id
          insertion_order: null
          remote_table:
            name: portfolio_brokers
            schema: public
    - name: gains
      using:
        manual_configuration:
          column_mapping:
            holding_id_v2: holding_id_v2
          insertion_order: null
          remote_table:
            name: portfolio_holding_gains
            schema: public
    - name: holding_details
      using:
        manual_configuration:
          column_mapping:
            holding_id_v2: holding_id_v2
          insertion_order: null
          remote_table:
            name: portfolio_holding_details
            schema: public
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  array_relationships:
    - name: transactions
      using:
        manual_configuration:
          column_mapping:
            account_id: account_id
            profile_id: profile_id
            security_id: security_id
          insertion_order: null
          remote_table:
            name: profile_portfolio_transactions
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - holding_id
          - security_id
          - profile_id
          - account_id
          - quantity
          - name
          - ticker_symbol
          - type
        filter:
          profile:
            _or:
              - user_id:
                  _eq: X-Hasura-User-Id
              - id:
                  _eq: 1
- table:
    name: profile_ticker_collections
    schema: public
  configuration:
    column_config: {}
    custom_column_names: {}
    custom_name: ticker_collections
    custom_root_fields: {}
  object_relationships:
    - name: collection
      using:
        manual_configuration:
          column_mapping:
            collection_uniq_id: uniq_id
          insertion_order: null
          remote_table:
            name: profile_collections
            schema: public
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
    - name: ticker
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: tickers
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - collection_id
          - symbol
        filter:
          profile_id:
            _is_null: true
        allow_aggregations: true
    - role: user
      permission:
        columns:
          - symbol
          - collection_id
        filter:
          _or:
            - profile:
                user_id:
                  _eq: X-Hasura-User-Id
            - profile_id:
                _is_null: true
        allow_aggregations: true
- table:
    name: ticker_categories
    schema: public
  object_relationships:
    - name: categories
      using:
        manual_configuration:
          column_mapping:
            category_id: id
          insertion_order: null
          remote_table:
            name: categories
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - category_id
          - rank
          - symbol
        filter: {}
- table:
    name: ticker_events
    schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - created_at
          - date
          - description
          - symbol
          - timestamp
          - type
        filter: {}
- table:
    name: ticker_highlights
    schema: public
  object_relationships:
    - name: ticker
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: tickers
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - symbol
          - highlight
          - created_at
        filter: {}
    - role: user
      permission:
        columns:
          - symbol
          - highlight
          - created_at
        filter: {}
- table:
    name: ticker_industries
    schema: public
  object_relationships:
    - name: gainy_industry
      using:
        manual_configuration:
          column_mapping:
            industry_id: id
          insertion_order: null
          remote_table:
            name: gainy_industries
            schema: public
    - name: ticker
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: tickers
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - symbol
          - industry_id
          - industry_order
        filter: {}
    - role: user
      permission:
        columns:
          - symbol
          - industry_id
          - industry_order
        filter: {}
- table:
    name: ticker_interests
    schema: public
  object_relationships:
    - name: interest
      using:
        manual_configuration:
          column_mapping:
            interest_id: id
          insertion_order: null
          remote_table:
            name: interests
            schema: public
    - name: ticker
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: tickers
            schema: public
  select_permissions:
    - role: user
      permission:
        columns:
          - interest_id
          - rank
          - symbol
        filter: {}
- table:
    name: ticker_metrics
    schema: public
  object_relationships:
    - name: ticker
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: tickers
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - symbol
          - profit_margin
          - avg_volume_10d
          - short_percent
          - short_percent_outstanding
          - shares_outstanding
          - avg_volume_90d
          - shares_float
          - short_ratio
          - beta
          - absolute_historical_volatility_adjusted_current
          - relative_historical_volatility_adjusted_current
          - absolute_historical_volatility_adjusted_min_1y
          - absolute_historical_volatility_adjusted_max_1y
          - relative_historical_volatility_adjusted_min_1y
          - relative_historical_volatility_adjusted_max_1y
          - implied_volatility
          - revenue_growth_yoy
          - revenue_growth_fwd
          - ebitda_growth_yoy
          - eps_growth_yoy
          - eps_growth_fwd
          - address_city
          - address_state
          - address_county
          - address_full
          - exchange_name
          - market_capitalization
          - enterprise_value_to_sales
          - price_to_earnings_ttm
          - price_to_sales_ttm
          - price_to_book_value
          - enterprise_value_to_ebitda
          - price_change_1m
          - price_change_3m
          - price_change_1y
          - dividend_yield
          - dividends_per_share
          - dividend_payout_ratio
          - years_of_consecutive_dividend_growth
          - dividend_frequency
          - eps_ttm
          - eps_actual
          - eps_estimate
          - beaten_quarterly_eps_estimation_count_ttm
          - eps_surprise
          - eps_difference
          - revenue_estimate_avg_0y
          - revenue_actual
          - revenue_ttm
          - revenue_per_share_ttm
          - net_income
          - net_income_ttm
          - roi
          - asset_cash_and_equivalents
          - roa
          - total_assets
          - ebitda
          - ebitda_ttm
          - net_debt
        filter: {}
    - role: user
      permission:
        columns:
          - absolute_historical_volatility_adjusted_current
          - absolute_historical_volatility_adjusted_max_1y
          - absolute_historical_volatility_adjusted_min_1y
          - address_city
          - address_county
          - address_full
          - address_state
          - asset_cash_and_equivalents
          - avg_volume_10d
          - avg_volume_90d
          - beaten_quarterly_eps_estimation_count_ttm
          - beta
          - dividend_frequency
          - dividend_payout_ratio
          - dividend_yield
          - dividends_per_share
          - ebitda
          - ebitda_growth_yoy
          - ebitda_ttm
          - enterprise_value_to_ebitda
          - enterprise_value_to_sales
          - eps_actual
          - eps_difference
          - eps_estimate
          - eps_growth_fwd
          - eps_growth_yoy
          - eps_surprise
          - eps_ttm
          - exchange_name
          - implied_volatility
          - market_capitalization
          - net_debt
          - net_income
          - net_income_ttm
          - price_change_1m
          - price_change_1w
          - price_change_1y
          - price_change_3m
          - price_change_5y
          - price_change_all
          - price_to_book_value
          - price_to_earnings_ttm
          - price_to_sales_ttm
          - profit_margin
          - relative_historical_volatility_adjusted_current
          - relative_historical_volatility_adjusted_max_1y
          - relative_historical_volatility_adjusted_min_1y
          - revenue_actual
          - revenue_estimate_avg_0y
          - revenue_growth_fwd
          - revenue_growth_yoy
          - revenue_per_share_ttm
          - revenue_ttm
          - roa
          - roi
          - shares_float
          - shares_outstanding
          - short_percent
          - short_percent_outstanding
          - short_ratio
          - symbol
          - total_assets
          - years_of_consecutive_dividend_growth
        filter: {}
- table:
    name: ticker_realtime_metrics
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - symbol
          - absolute_daily_change
          - actual_price
          - daily_volume
          - last_known_price
          - previous_day_close_price
          - relative_daily_change
          - last_known_price_datetime
          - time
        filter: {}
    - role: user
      permission:
        columns:
          - symbol
          - absolute_daily_change
          - actual_price
          - daily_volume
          - last_known_price
          - previous_day_close_price
          - relative_daily_change
          - last_known_price_datetime
          - time
        filter: {}
- table:
    name: tickers
    schema: public
  object_relationships:
    - name: crypto_metrics
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: crypto_metrics
            schema: public
    - name: crypto_realtime_metrics
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: crypto_realtime_metrics
            schema: public
    - name: etf_metrics
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: etf_metrics
            schema: public
    - name: match_score
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: profile_ticker_match_score
            schema: app
    - name: realtime_metrics
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: ticker_realtime_metrics
            schema: public
    - name: ticker_analyst_ratings
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: analyst_ratings
            schema: public
    - name: ticker_metrics
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: ticker_metrics
            schema: public
  array_relationships:
    - name: ticker_categories
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: ticker_categories
            schema: public
    - name: ticker_collections
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: profile_ticker_collections
            schema: public
    - name: ticker_events
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: ticker_events
            schema: public
    - name: ticker_highlights
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: ticker_highlights
            schema: public
    - name: ticker_industries
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: ticker_industries
            schema: public
    - name: ticker_interests
      using:
        manual_configuration:
          column_mapping:
            symbol: symbol
          insertion_order: null
          remote_table:
            name: ticker_interests
            schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - symbol
          - type
          - name
          - description
          - phone
          - logo_url
          - web_url
          - ipo_date
          - sector
          - industry
          - gic_sector
          - gic_group
          - gic_industry
          - gic_sub_industry
          - country_name
          - updated_at
        filter: {}
    - role: user
      permission:
        columns:
          - country_name
          - description
          - gic_group
          - gic_industry
          - gic_sector
          - gic_sub_industry
          - industry
          - ipo_date
          - is_trading_enabled
          - logo_url
          - name
          - phone
          - sector
          - symbol
          - type
          - updated_at
          - web_url
        filter: {}
- table:
    name: trading_history
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
    - name: trading_collection_version
      using:
        manual_configuration:
          column_mapping:
            trading_collection_version_id: id
          insertion_order: null
          remote_table:
            name: trading_collection_versions
            schema: app
    - name: trading_money_flow
      using:
        manual_configuration:
          column_mapping:
            money_flow_id: id
          insertion_order: null
          remote_table:
            name: trading_money_flow
            schema: app
    - name: trading_order
      using:
        manual_configuration:
          column_mapping:
            trading_order_id: id
          insertion_order: null
          remote_table:
            name: trading_orders
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - amount
          - datetime
          - money_flow_id
          - name
          - profile_id
          - tags
          - trading_collection_version_id
          - trading_order_id
          - type
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: trading_profile_collection_status
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - absolute_gain_1d
          - absolute_gain_total
          - actual_value
          - collection_id
          - profile_id
          - relative_gain_1d
          - relative_gain_total
          - value_to_portfolio_value
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: trading_profile_status
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - profile_id
          - kyc_done
          - kyc_status
          - kyc_message
          - kyc_error_messages
          - funding_account_connected
          - account_no
          - deposited_funds
          - withdrawable_cash
          - pending_cash
          - buying_power
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: trading_profile_ticker_status
    schema: public
  object_relationships:
    - name: profile
      using:
        manual_configuration:
          column_mapping:
            profile_id: id
          insertion_order: null
          remote_table:
            name: profiles
            schema: app
  select_permissions:
    - role: user
      permission:
        columns:
          - profile_id
          - symbol
          - value_to_portfolio_value
          - actual_value
          - relative_gain_1d
          - absolute_gain_1d
          - relative_gain_total
          - absolute_gain_total
        filter:
          profile:
            user_id:
              _eq: X-Hasura-User-Id
- table:
    name: website_blog_articles
    schema: public
  select_permissions:
    - role: anonymous
      permission:
        columns:
          - category_link
          - category_name
          - id
          - main_image
          - post_summary
          - priority
          - published_on
          - rate_rating
          - rate_votes
          - title
          - updated_on
          - url
        filter: {}
    - role: user
      permission:
        columns:
          - category_link
          - category_name
          - id
          - main_image
          - post_summary
          - priority
          - published_on
          - rate_rating
          - rate_votes
          - title
          - updated_on
          - url
        filter: {}
