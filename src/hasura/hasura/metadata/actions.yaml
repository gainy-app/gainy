actions:
  - name: apply_promocode
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: create_plaid_link_token
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: fetchNewsData
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_match_score_by_ticker
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_match_scores_by_collection
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_match_scores_by_ticker_list
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_portfolio_chart
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_portfolio_chart_previous_period_close
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_portfolio_holdings
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_portfolio_piechart
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_portfolio_transactions
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_pre_signed_upload_form
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_promocode
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: get_recommended_collections
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: kyc_add_document
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: kyc_get_form_config
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: kyc_get_status
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: kyc_send_form
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: link_plaid_account
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: plaid_webhook
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
      forward_client_headers: true
      request_transform:
        body:
          action: transform
          template: |-
            {
              "body": {{$body}}
            }
        template_engine: Kriti
        version: 2
    permissions:
      - role: anonymous
  - name: rehandle_queue_messages
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
  - name: search_collections
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: search_tickers
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: set_recommendation_settings
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: stripe_get_checkout_url
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
      - role: anonymous
  - name: stripe_get_payment_sheet_data
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: stripe_webhook
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
      forward_client_headers: true
    permissions:
      - role: anonymous
  - name: trading_add_money
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
  - name: trading_cancel_pending_order
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
  - name: trading_delete_data
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
  - name: trading_delete_funding_account
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: trading_deposit_funds
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: trading_download_statement
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
  - name: trading_get_actual_collection_holdings
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: trading_get_funding_accounts
    definition:
      kind: ""
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: trading_link_bank_account_with_plaid
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: trading_reconfigure_collection_holdings
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: trading_sync_provider_data
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
  - name: trading_withdraw_funds
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
  - name: update_purchases
    definition:
      kind: synchronous
      handler: '{{AWS_LAMBDA_API_GATEWAY_ENDPOINT}}/hasuraAction'
    permissions:
      - role: user
custom_types:
  enums: []
  input_objects:
    - name: PlaidWebhookError
    - name: TickerWeight
  objects:
    - name: ChartDataPoint
    - name: PieChartDataPoint
    - name: PortfolioChartPreviousPeriodClose
    - name: NewsDataPoint
    - name: LivePriceData
    - name: LiveStockPriceData
    - name: Ticker
      relationships:
        - field_mapping:
            symbol: symbol
          name: ticker
          remote_table:
            name: tickers
            schema: public
          source: default
          type: object
    - name: Collection
      relationships:
        - field_mapping:
            uniq_id: uniq_id
          name: collection
          remote_table:
            name: profile_collections
            schema: public
          source: default
          type: object
    - name: MatchScore
      relationships:
        - field_mapping:
            symbol: symbol
          name: ticker
          remote_table:
            name: tickers
            schema: public
          source: default
          type: object
    - name: LinkPlaidAccountOutput
    - name: PortfolioHolding
      relationships:
        - field_mapping:
            profile_id: id
          name: profile
          remote_table:
            name: profiles
            schema: app
          source: default
          type: object
        - field_mapping:
            security_id: id
          name: security
          remote_table:
            name: portfolio_securities
            schema: app
          source: default
          type: array
        - field_mapping:
            account_id: id
          name: account
          remote_table:
            name: profile_portfolio_accounts
            schema: app
          source: default
          type: object
        - field_mapping:
            id: holding_id
          name: holding_details
          remote_table:
            name: portfolio_holding_details
            schema: public
          source: default
          type: object
        - field_mapping:
            id: id
          name: holding
          remote_table:
            name: profile_holdings
            schema: app
          source: default
          type: object
    - name: PortfolioTransaction
      relationships:
        - field_mapping:
            profile_id: id
          name: profile
          remote_table:
            name: profiles
            schema: app
          source: default
          type: object
        - field_mapping:
            account_id: id
          name: account
          remote_table:
            name: profile_portfolio_accounts
            schema: app
          source: default
          type: object
        - field_mapping:
            security_id: id
          name: security
          remote_table:
            name: portfolio_securities
            schema: app
          source: default
          type: object
        - field_mapping:
            id: id
          name: transaction
          remote_table:
            name: profile_portfolio_transactions
            schema: app
          source: default
          type: object
    - name: CreatePlaidLinkTokenOutput
    - name: PlaidWebhookOutput
    - name: StripeGetCheckoutUrl
    - name: UpdatePurchasesOutput
    - name: Promocode
    - name: SetRecommendationSettingsOutput
    - name: KycFormConfig
    - name: KycFormFieldConfig
    - name: KycSendFormOutput
    - name: KycStatus
    - name: PreSignedUploadFormOutput
    - name: LinkBankAccountWithPlaidOutput
    - name: AccountInformation
    - name: TradingLinkBankAccountWithPlaidOutput
      relationships:
        - field_mapping:
            id: id
          name: funding_account
          remote_table:
            name: trading_funding_accounts
            schema: app
          source: default
          type: object
    - name: FundingAccount
      relationships:
        - field_mapping:
            id: id
          name: funding_account
          remote_table:
            name: trading_funding_accounts
            schema: app
          source: default
          type: object
    - name: TradingMoneyFlowOutput
    - name: SampleOutput
    - name: ActualCollectionHoldingOutput
    - name: OkOutput
    - name: StripeGetPaymentSheetDataOutput
    - name: ReHandleQueueMessagesOutput
    - name: KycFormChoicesFieldConfig
    - name: TradingCollectionVersionOutput
    - name: UrlOutput
  scalars: []
